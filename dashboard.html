<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time Management Dashboard</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
  }
  .container {
    max-width: 1000px;
    margin: auto;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
    color: #333;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
  }
  .add-task {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
    gap: 10px;
    margin-bottom: 20px;
  }
  .add-task input, .add-task select, .add-task textarea, .add-task button {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  .add-task textarea {
    grid-column: span 2;
  }
  .add-task button {
    background: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
  }
  .add-task button:hover {
    background: #45a049;
    transform: scale(1.05);
  }
  .cards {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(250px,1fr));
    gap: 15px;
  }
  .card {
    background: rgba(255,255,255,0.95);
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 25px rgba(0,0,0,0.3);
  }
  .card.done {
    background: #d0f0d0;
    text-decoration: line-through;
    color: gray;
  }
  .card h3 {
    margin: 0 0 10px 0;
  }
  .priority {
    font-weight: bold;
    padding: 3px 8px;
    border-radius: 8px;
    color: white;
    font-size: 0.9rem;
    display: inline-block;
    margin-bottom: 5px;
  }
  .high { background: #e74c3c; }
  .medium { background: #f39c12; }
  .low { background: #3498db; }
  .status {
    margin: 10px 0;
    cursor: pointer;
    font-weight: bold;
  }
  .status:hover { color: #4CAF50; }
  .notes {
    font-size: 0.9rem;
    margin-bottom: 10px;
    color: #555;
  }
  .actions button {
    padding: 5px 10px;
    margin-right: 5px;
    font-size: 0.9rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
  }
  .actions .done-btn { background: #4CAF50; color: white; }
  .actions .delete-btn { background: #e74c3c; color: white; }
  .actions button:hover { opacity: 0.9; transform: scale(1.05); }
</style>
</head>
<body>

<div class="container">
  <h1>Time Management Dashboard</h1>

  <div class="add-task">
    <input type="text" id="taskName" placeholder="Task Name">
    <input type="date" id="taskDue">
    <select id="taskPriority">
      <option value="High">High</option>
      <option value="Medium">Medium</option>
      <option value="Low">Low</option>
    </select>
    <textarea id="taskNotes" placeholder="Notes (optional)"></textarea>
    <button onclick="addTask()">Add Task</button>
  </div>

  <div class="cards" id="cardsContainer"></div>
</div>

<script>
let tasks = [];

// Load tasks from localStorage
if(localStorage.getItem("tasks")) tasks = JSON.parse(localStorage.getItem("tasks"));

// Save tasks to localStorage
function saveTasks() {
  localStorage.setItem("tasks", JSON.stringify(tasks));
}

// Add Task
function addTask() {
  const name = document.getElementById("taskName").value;
  const due = document.getElementById("taskDue").value;
  const priority = document.getElementById("taskPriority").value;
  const notes = document.getElementById("taskNotes").value;

  if(!name || !due) { alert("Enter task name and due date!"); return; }

  tasks.push({name,due,priority,notes,done:false});
  saveTasks();
  clearInputs();
  renderTasks();
}

// Clear input fields
function clearInputs() {
  document.getElementById("taskName").value = "";
  document.getElementById("taskDue").value = "";
  document.getElementById("taskPriority").value = "Medium";
  document.getElementById("taskNotes").value = "";
}

// Render Tasks
function renderTasks() {
  const container = document.getElementById("cardsContainer");
  container.innerHTML = "";

  // Sort: Pending > Done, High > Medium > Low, Earliest Due first
  tasks.sort((a,b) => {
    if(a.done !== b.done) return a.done ? 1 : -1;
    const prio = {"High":1,"Medium":2,"Low":3};
    if(a.priority!==b.priority) return prio[a.priority]-prio[b.priority];
    return new Date(a.due)-new Date(b.due);
  });

  tasks.forEach((task,index)=>{
    const card = document.createElement("div");
    card.className = "card " + (task.done?"done":"");

    card.innerHTML = `
      <h3>${task.name}</h3>
      <div class="priority ${task.priority.toLowerCase()}">${task.priority}</div>
      <div>Due: ${task.due}</div>
      <div class="status" onclick="toggleDone(${index})">${task.done?"Done":"Pending"}</div>
      <div class="notes">${task.notes}</div>
      <div class="actions">
        <button class="done-btn" onclick="toggleDone(${index})">${task.done?"Undo":"Done"}</button>
        <button class="delete-btn" onclick="deleteTask(${index})">Delete</button>
      </div>
    `;
    container.appendChild(card);
  });
}

// Toggle Done
function toggleDone(index) {
  tasks[index].done = !tasks[index].done;
  saveTasks();
  renderTasks();
}

// Delete Task
function deleteTask(index) {
  if(confirm("Are you sure?")) {
    tasks.splice(index,1);
    saveTasks();
    renderTasks();
  }
}

// Initial render
renderTasks();
</script>

</body>
</html>
